<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mnr | Pro TOOLS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap');
        body { font-family: 'Tajawal', sans-serif; background: #0f172a; color: #f8fafc; display: flex; flex-direction: column; min-height: 100vh; }
        .sidebar { transition: all 0.3s ease; transform: translateX(100%); z-index: 100; }
        .sidebar.active { transform: translateX(0); }
        .glass-card { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
        .tab-active { background: #2563eb !important; color: white !important; border: 1px solid #60a5fa !important; }
        .hidden { display: none !important; }
        input, select { background: #020617 !important; border: 1px solid #1e293b !important; color: white !important; }
        
        /* Toast Notification */
        #toast { visibility: hidden; min-width: 250px; background-color: #1e293b; color: #fff; text-align: center; border-radius: 15px; padding: 16px; position: fixed; z-index: 200; top: 30px; left: 50%; transform: translateX(-50%); border: 1px solid #3b82f6; box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3); opacity: 0; transition: opacity 0.3s, top 0.3s; }
        #toast.show { visibility: visible; opacity: 1; top: 50px; }

        /* Modal Style */
        .modal-backdrop { background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(5px); transition: all 0.3s ease; }
        .modal-content { transform: scale(0.9); transition: all 0.3s ease; }
        .modal-active .modal-content { transform: scale(1); }
    </style>
</head>
<body class="bg-slate-950">

    <div id="toast"></div>

    <div id="urlModal" class="fixed inset-0 z-[100] flex items-center justify-center p-4 modal-backdrop hidden">
        <div class="glass-card w-full max-w-md p-8 rounded-[2.5rem] border border-blue-500/30 modal-content">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-blue-400 flex items-center gap-2">
                    <i class="fas fa-plus-circle"></i> Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø· Ø§Ø³ØªÙŠØ±Ø§Ø¯
                </h3>
                <button onclick="closeUrlModal()" class="text-slate-400 hover:text-white"><i class="fas fa-times text-xl"></i></button>
            </div>
            <div class="space-y-5">
                <input type="text" id="fav_name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø¬Ø¹..." class="w-full p-4 rounded-2xl outline-none focus:border-blue-500">
                <input type="text" id="fav_url" placeholder="https://..." class="w-full p-4 rounded-2xl outline-none focus:border-blue-500 text-left" dir="ltr">
                <button onclick="saveFavUrl()" class="w-full py-4 bg-blue-600 rounded-2xl font-bold hover:bg-blue-500 transition-all">Ø­ÙØ¸ Ø§Ù„Ø±Ø§Ø¨Ø·</button>
            </div>
        </div>
    </div>

    <div id="sidebar" class="fixed top-0 right-0 h-full w-64 bg-slate-900 sidebar border-l border-slate-800">
        <div class="p-6 text-right">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-xl font-bold text-blue-400 font-mono">MNR TOOLS</h2>
                <button onclick="toggleSidebar()" class="text-slate-400 hover:text-white text-2xl px-2"><i class="fas fa-times"></i></button>
            </div>
            <nav class="space-y-4">
                <button onclick="showPage('generator')" class="w-full p-3 rounded-lg flex items-center justify-between hover:bg-slate-800 transition-all"><span>Ù…ÙˆÙ„Ø¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span> <i class="fas fa-bolt text-yellow-500"></i></button>
                <button onclick="showPage('converter')" class="w-full p-3 rounded-lg flex items-center justify-between hover:bg-slate-800 transition-all"><span>Ø§Ù„Ù…Ø­ÙˆÙ„ Ø§Ù„Ø´Ø§Ù…Ù„</span> <i class="fas fa-exchange-alt text-emerald-500"></i></button>
                <button onclick="showPage('database')" class="w-full p-3 rounded-lg flex items-center justify-between hover:bg-slate-800 transition-all"><span>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‡ÙˆØ³ØªØ§Øª</span> <i class="fas fa-database text-blue-400"></i></button>
            </nav>
        </div>
    </div>

    <div class="main-content flex-grow">
        <header class="p-4 glass-card sticky top-0 z-40 flex justify-between items-center px-6">
            <div class="flex items-center gap-2">
                <div class="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center font-bold">MNR</div>
                <span class="text-xl font-bold"> TOOLS</span>
            </div>
            <button onclick="toggleSidebar()" class="p-2 hover:bg-slate-800 rounded-lg"><i class="fas fa-bars text-xl"></i></button>
        </header>

        <div id="page-generator" class="max-w-6xl mx-auto p-6">
            <div class="text-center mb-10">
                <div id="autoStatus" class="mb-4 text-xs font-bold text-blue-400 min-h-[1rem]"></div>
                <div class="flex flex-wrap gap-2 p-1.5 bg-slate-900 rounded-2xl max-w-2xl mx-auto mb-10 border border-slate-800">
                    <button id="btnGCP" onclick="switchTab('GCP')" class="flex-1 py-2.5 rounded-xl text-slate-400 font-bold text-[10px] md:text-xs">GCP</button>
                    <button id="btnVLESS" onclick="switchTab('VLESS')" class="flex-1 py-2.5 rounded-xl text-slate-400 font-bold text-[10px] md:text-xs">VLESS WS TLS</button>
                    <button id="btnNON" onclick="switchTab('NON')" class="flex-1 py-2.5 rounded-xl text-slate-400 font-bold text-[10px] md:text-xs">VLESS WS NTLS</button>
                    <button id="btnVMESS" onclick="switchTab('VMESS')" class="flex-1 py-2.5 rounded-xl text-slate-400 font-bold text-[10px] md:text-xs">VMESS</button>
                </div>
                <input type="text" id="mainLink" placeholder="Ø§Ù„ØµÙ‚ Ø§Ù„Ø±Ø§Ø¨Ø· Ù‡Ù†Ø§ Ù„Ù„ØªØ­Ù„ÙŠÙ„..." class="w-full p-4 rounded-2xl text-left border-2 border-transparent focus:border-blue-500 outline-none transition-all shadow-inner" dir="ltr" oninput="autoDetectAndGenerate()">
            </div>
            <div id="networksGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"></div>
        </div>

        <div id="page-database" class="max-w-6xl mx-auto p-6 hidden">
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                <button onclick="exportDB()" class="py-3 bg-emerald-600 rounded-xl text-xs font-bold flex items-center justify-center gap-2"><i class="fas fa-lock"></i> ØªØµØ¯ÙŠØ± Ù…Ø´ÙØ±</button>
                <button onclick="document.getElementById('importFile').click()" class="py-3 bg-blue-600 rounded-xl text-xs font-bold flex items-center justify-center gap-2"><i class="fas fa-file-shield"></i> Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù…Ù„Ù</button>
                <button onclick="openUrlModal()" class="py-3 bg-purple-600 rounded-xl text-xs font-bold flex items-center justify-center gap-2"><i class="fas fa-cloud-download-alt"></i> Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø±Ø§Ø¨Ø·</button>
                <button onclick="resetToDefaults()" class="py-3 bg-red-900/50 text-red-400 rounded-xl text-xs font-bold flex items-center justify-center gap-2"><i class="fas fa-undo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
                <input type="file" id="importFile" class="hidden" onchange="importDB(event)">
            </div>

            <div class="glass-card p-6 rounded-3xl mb-8">
                <h3 class="text-lg font-bold text-purple-400 mb-4 flex items-center gap-2"><i class="fas fa-star text-yellow-500"></i> Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</h3>
                <div id="favUrlsList" class="grid md:grid-cols-2 lg:grid-cols-3 gap-3"></div>
            </div>

            <div class="grid lg:grid-cols-4 gap-4">
                <div class="glass-card p-4 rounded-3xl"><h4 class="text-emerald-400 font-bold mb-4 text-xs border-b border-emerald-900 pb-2">GCP</h4><div id="gcp_admin" class="space-y-2 max-h-80 overflow-y-auto"></div></div>
                <div class="glass-card p-4 rounded-3xl"><h4 class="text-blue-400 font-bold mb-4 text-xs border-b border-blue-900 pb-2">VLESS WS TLS</h4><div id="vless_admin" class="space-y-2 max-h-80 overflow-y-auto"></div></div>
                <div class="glass-card p-4 rounded-3xl"><h4 class="text-yellow-500 font-bold mb-4 text-xs border-b border-yellow-900 pb-2">VLESS WS NTLS</h4><div id="non_admin" class="space-y-2 max-h-80 overflow-y-auto"></div></div>
                <div class="glass-card p-4 rounded-3xl"><h4 class="text-purple-400 font-bold mb-4 text-xs border-b border-purple-900 pb-2">VMESS</h4><div id="vmess_admin" class="space-y-2 max-h-80 overflow-y-auto"></div></div>
            </div>
        </div>

        <div id="page-converter" class="max-w-6xl mx-auto p-6 hidden">
            <div class="grid lg:grid-cols-2 gap-8">
                <div class="glass-card p-6 rounded-3xl">
                    <div class="flex justify-between items-center mb-4 font-bold text-blue-400">Ø±Ø§Ø¨Ø· URI</div>
                    <textarea id="inputURI" class="w-full h-80 rounded-2xl p-4 text-sm" dir="ltr"></textarea>
                    <button onclick="processUriToJson()" class="w-full mt-4 py-4 bg-blue-600 rounded-2xl font-bold">ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ JSON</button>
                </div>
                <div class="glass-card p-6 rounded-3xl">
                    <div class="flex justify-between items-center mb-4 font-bold text-emerald-400">JSON</div>
                    <textarea id="outputJSON" class="w-full h-80 rounded-2xl p-4 text-[10px]" dir="ltr"></textarea>
                    <button onclick="processJsonToUri()" class="w-full mt-4 py-4 bg-emerald-600 rounded-2xl font-bold">ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ø±Ø§Ø¨Ø·</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const SECRET_KEY = "MNR_PRIVATE_KEY_2026";
        const ORIGINAL_DATA = {
            vless: [{ name: "MA | IAM ğŸŒŸ", addr: "jf-t.x.com", sni: "jf-t.x.com", host: "" }],
            gcp: [{ name: "Ooredoo ALG", addr: "yt3.ggpht.com", sni: "yt3.ggpht.com", host: "host" }],
            non: [{ name: "Global CF", addr: "104.16.132.229", sni: "host", host: "host" }],
            vmess: [{ name: "VMESS Cloud", addr: "yt3.ggpht.com", sni: "yt3.ggpht.com", host: "host" }]
        };

        let vlessConfigs = JSON.parse(localStorage.getItem('mnr_vless')) || [...ORIGINAL_DATA.vless];
        let gcpConfigs = JSON.parse(localStorage.getItem('mnr_gcp')) || [...ORIGINAL_DATA.gcp];
        let nonConfigs = JSON.parse(localStorage.getItem('mnr_non')) || [...ORIGINAL_DATA.non];
        let vmessConfigs = JSON.parse(localStorage.getItem('mnr_vmess')) || [...ORIGINAL_DATA.vmess];
        let favUrls = JSON.parse(localStorage.getItem('mnr_fav_urls')) || [];

        let currentTab = 'GCP';

        // --- Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ---
        function showToast(message, type = "success") {
            const toast = document.getElementById("toast");
            toast.innerText = message;
            toast.style.borderColor = type === "success" ? "#3b82f6" : "#ef4444";
            toast.classList.add("show");
            setTimeout(() => { toast.classList.remove("show"); }, 3000);
        }

        // --- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù€ Modal ---
        function openUrlModal() { document.getElementById('urlModal').classList.remove('hidden'); setTimeout(() => document.getElementById('urlModal').classList.add('modal-active'), 10); }
        function closeUrlModal() { document.getElementById('urlModal').classList.remove('modal-active'); setTimeout(() => document.getElementById('urlModal').classList.add('hidden'), 300); }
        
        function saveFavUrl() {
            const name = document.getElementById('fav_name').value.trim();
            const url = document.getElementById('fav_url').value.trim();
            if(!name || !url) return;
            favUrls.push({ name, url });
            save();
            closeUrlModal();
            showToast("ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©");
        }

        function save() {
            localStorage.setItem('mnr_vless', JSON.stringify(vlessConfigs));
            localStorage.setItem('mnr_gcp', JSON.stringify(gcpConfigs));
            localStorage.setItem('mnr_non', JSON.stringify(nonConfigs));
            localStorage.setItem('mnr_vmess', JSON.stringify(vmessConfigs));
            localStorage.setItem('mnr_fav_urls', JSON.stringify(favUrls));
            renderAdmin(); 
            generateAll();
        }

        // --- Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† Ù…Ø¹ Ø¥Ø´Ø¹Ø§Ø± Ø§Ø­ØªØ±Ø§ÙÙŠ ---
        function resetToDefaults() {
            if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØµÙÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‡ÙˆØ³ØªØ§Øª ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªØŸ")) {
                vlessConfigs = [...ORIGINAL_DATA.vless];
                gcpConfigs = [...ORIGINAL_DATA.gcp];
                nonConfigs = [...ORIGINAL_DATA.non];
                vmessConfigs = [...ORIGINAL_DATA.vmess];
                favUrls = [];
                save();
                showToast("ØªÙ…Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† Ø¨Ù†Ø¬Ø§Ø­! ğŸ”„");
            }
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text);
            showToast("ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©! âœ…");
        }

        // --- Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙ‚Ù†ÙŠØ© ---
        function autoDetectAndGenerate() {
            const raw = document.getElementById('mainLink').value.trim();
            const statusBox = document.getElementById('autoStatus');
            const btns = { GCP: document.getElementById('btnGCP'), VLESS: document.getElementById('btnVLESS'), NON: document.getElementById('btnNON'), VMESS: document.getElementById('btnVMESS') };
            Object.values(btns).forEach(b => b.classList.remove('hidden-tab'));
            if (!raw) { statusBox.innerText = ""; generateAll(); return; }
            try {
                if (raw.startsWith('vmess://')) {
                    statusBox.innerText = "ğŸ” Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…ÙƒØªØ´Ù: VMESS";
                    ['GCP', 'VLESS', 'NON'].forEach(id => btns[id].classList.add('hidden-tab'));
                    switchTab('VMESS');
                } else if (raw.startsWith('vless://')) {
                    if (raw.includes('run.app')) {
                        statusBox.innerText = "ğŸ” Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…ÙƒØªØ´Ù: GCP";
                        ['VLESS', 'NON', 'VMESS'].forEach(id => btns[id].classList.add('hidden-tab'));
                        switchTab('GCP');
                    } else {
                        const u = new URL(raw); const p = new URLSearchParams(u.search);
                        if (p.get('security') !== 'tls') {
                            statusBox.innerText = "ğŸ” Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…ÙƒØªØ´Ù: WS NTLS";
                            ['GCP', 'VLESS', 'VMESS'].forEach(id => btns[id].classList.add('hidden-tab'));
                            switchTab('NON');
                        } else {
                            statusBox.innerText = "ğŸ” Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…ÙƒØªØ´Ù: WS TLS";
                            ['GCP', 'NON', 'VMESS'].forEach(id => btns[id].classList.add('hidden-tab'));
                            switchTab('VLESS');
                        }
                    }
                }
            } catch (e) { statusBox.innerText = "âš ï¸ Ø§Ù„Ø±Ø§Ø¨Ø· ØºÙŠØ± ØµØ§Ù„Ø­"; }
            generateAll();
        }

        function switchTab(t) {
            currentTab = t;
            ['GCP', 'VLESS', 'NON', 'VMESS'].forEach(id => {
                const btn = document.getElementById('btn' + id);
                if (t === id) btn.classList.add('tab-active');
                else btn.classList.remove('tab-active');
            });
            generateAll();
        }

        function generateAll() {
            const raw = document.getElementById('mainLink').value.trim();
            const grid = document.getElementById('networksGrid');
            if (!raw) { grid.innerHTML = ""; return; }
            try {
                let srv = {};
                if (raw.startsWith('vmess://')) {
                    const b = JSON.parse(atob(raw.replace('vmess://', '')));
                    srv = { id: b.id, oH: b.host, path: b.path || "/", port: b.port };
                } else {
                    const u = new URL(raw); const p = new URLSearchParams(u.search);
                    srv = { id: u.username, oH: p.get('host') || u.hostname, path: p.get('path') || '/', port: u.port || 443 };
                }
                let list = (currentTab === 'GCP') ? gcpConfigs : (currentTab === 'VLESS' ? vlessConfigs : (currentTab === 'NON' ? nonConfigs : vmessConfigs));
                grid.innerHTML = list.map(n => {
                    const fA = n.addr === 'host' ? srv.oH : n.addr;
                    const fS = n.sni === 'host' ? srv.oH : n.sni;
                    const fH = n.host === 'host' ? srv.oH : (n.host || srv.oH);
                    let conf = (currentTab === 'VMESS') ? 
                        "vmess://" + btoa(JSON.stringify({ v: "2", ps: n.name, add: fA, port: srv.port, id: srv.id, aid: "0", net: "ws", type: "none", host: fH, path: srv.path, tls: "tls", sni: fS })) :
                        `vless://${srv.id}@${fA}:${srv.port}?path=${encodeURIComponent(srv.path)}&security=${currentTab === 'NON' ? 'none' : 'tls'}&encryption=none&host=${fH}&type=ws&sni=${fS}#${n.name.replace(/ /g, "_")}`;
                    return `<div class="glass-card p-4 rounded-2xl"><div class="font-bold text-[10px] mb-3 text-blue-300 text-right">${n.name}</div><button onclick="copyToClipboard('${conf}')" class="w-full py-2 bg-blue-600 rounded-xl text-xs font-bold transition-all active:scale-95">Ù†Ø³Ø®</button></div>`;
                }).join('');
            } catch (e) {}
        }

        function renderAdmin() {
            const mapH = (l, t) => l.map((x, i) => `<div class="flex justify-between items-center p-2 bg-slate-900 rounded-lg text-[10px] mb-1"><span>${x.name}</span><button onclick="deleteHost(${i},'${t}')" class="text-red-500 hover:text-red-300"><i class="fas fa-trash"></i></button></div>`).join('');
            document.getElementById('gcp_admin').innerHTML = mapH(gcpConfigs, 'GCP');
            document.getElementById('vless_admin').innerHTML = mapH(vlessConfigs, 'VLESS');
            document.getElementById('non_admin').innerHTML = mapH(nonConfigs, 'NON');
            document.getElementById('vmess_admin').innerHTML = mapH(vmessConfigs, 'VMESS');
            
            document.getElementById('favUrlsList').innerHTML = favUrls.map((f, i) => `
                <div class="glass-card p-3 rounded-xl border border-slate-800 flex items-center justify-between">
                    <div class="overflow-hidden mr-2"><div class="text-xs font-bold text-white truncate">${f.name}</div></div>
                    <div class="flex gap-2">
                        <button onclick="importFromFav('${f.url}')" class="p-2 text-emerald-500"><i class="fas fa-download"></i></button>
                        <button onclick="deleteFavUrl(${i})" class="p-2 text-red-500"><i class="fas fa-trash-alt"></i></button>
                    </div>
                </div>
            `).join('');
        }

        function deleteHost(i, t) { if(t === 'VLESS') vlessConfigs.splice(i,1); else if(t === 'GCP') gcpConfigs.splice(i,1); else if(t === 'NON') nonConfigs.splice(i,1); else vmessConfigs.splice(i,1); save(); showToast("ØªÙ… Ø§Ù„Ø­Ø°Ù"); }
        function deleteFavUrl(i) { favUrls.splice(i,1); save(); showToast("ØªÙ… Ø­Ø°Ù Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠ"); }
        function showPage(p) { document.querySelectorAll('#page-generator, #page-converter, #page-database').forEach(el => el.classList.add('hidden')); document.getElementById('page-' + p).classList.remove('hidden'); if(p === 'database') renderAdmin(); toggleSidebar(); }
        function toggleSidebar() { document.getElementById('sidebar').classList.toggle('active'); }
        function xorProcess(t, k) { let r = ""; for (let i = 0; i < t.length; i++) r += String.fromCharCode(t.charCodeAt(i) ^ k.charCodeAt(i % k.length)); return r; }
        function exportDB() { const data = JSON.stringify({ vless: vlessConfigs, gcp: gcpConfigs, non: nonConfigs, vmess: vmessConfigs }); const enc = btoa(unescape(encodeURIComponent(xorProcess(data, SECRET_KEY)))); const a = document.createElement('a'); a.href = URL.createObjectURL(new Blob([enc])); a.download = "MNR_DB.txt"; a.click(); showToast("ØªÙ… ØªØµØ¯ÙŠØ± Ù…Ù„Ù Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©"); }
        
        async function importFromFav(url) {
            try {
                const res = await fetch(url);
                const text = await res.text();
                processImportedData(text);
                showToast("ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·");
            } catch (e) { showToast("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø±Ø§Ø¨Ø·", "error"); }
        }

        function processImportedData(rawData) {
            try {
                let d;
                try { d = JSON.parse(decodeURIComponent(escape(xorProcess(atob(rawData.trim()), SECRET_KEY)))); }
                catch (e) { d = JSON.parse(rawData); }
                if (d) {
                    vlessConfigs = d.vless || []; gcpConfigs = d.gcp || [];
                    nonConfigs = d.non || []; vmessConfigs = d.vmess || [];
                    save();
                }
            } catch (e) { showToast("ØªÙ†Ø³ÙŠÙ‚ ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…", "error"); }
        }

        switchTab('GCP');
    </script>
</body>
</html>
